{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "EDiC",
  "patterns": [
    {
      "match": "^\\s*\\b(?i)(?:(?:add|sub|and|eor|xor|xnor|lsr|lsl|mov)s?)|cmp(?-i)\\b",
      "name": "support.function.mnemonic.arithmetic.edic"
    },
    {
      "match": "^\\s*\\b(?i)ldr|lds|str|sts|ldf|stf|sma(?-i)\\b",
      "name": "support.function.mnemonic.memory.edic"
    },
    {
      "match": "^\\s*\\b(?i)(?:call\\s+(\\w*))|ret(?-i)\\b",
      "name": "support.function.mnemonic.memory.edic",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#labelsText"
            }
          ]
        }
      }
    },
    {
      "match": "^\\s*\\b(?i)(b(?:al|mp|eq|ne|cs|cc|mi|pl|vs|vc|hi|ls|ge|lt|gt|le)?)\\s+(\\w*)?(?-i)\\b",
      "captures": {
        "1": {
          "name": "support.function.mnemonic.memory.edic"
        },
        "2": {
          "patterns": [
            {
              "include": "#labelsText"
            }
          ]
        }
      }
    },
    {
      "match": "^\\s*(\\.?\\S+)\\s*=\\s*(.*)",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#constants"
            }
          ]
        },
        "2": {
          "patterns": [
            {
              "include": "#numerics"
            },
            {
              "include": "#strings"
            }
          ]
        }
      }
    },
    {
      "name": "meta.brace.square.edic",
      "match": "\\[\\s*(\\S+)\\s*\\]",
      "captures": {
        "1": {
          "patterns": [
            {
              "include": "#registers"
            },
            {
              "include": "#numerics"
            },
            {
              "include": "#constants"
            }
          ]
        }
      }
    },
    {
      "name": "variable.named.edic",
      "match": "[a-zA-Z]\\w*:"
    },
    {
      "include": "#registers"
    },
    {
      "include": "#numerics"
    },
    {
      "include": "#comments"
    }
  ],
  "repository": {
    "comments": {
      "patterns": [
        {
          "match": "([;@]|//|#).*$",
          "name": "comment.edic"
        },
        {
          "begin": "\\/\\*",
          "beginCaptures": {
            "0": {
              "name": "comment.begin.edic"
            }
          },
          "endCaptures": {
            "0": {
              "name": "comment.end.edic"
            }
          },
          "end": "\\*\\/",
          "name": "comment.edic"
        }
      ]
    },
    "numerics": {
      "patterns": [
        {
          "match": "\\b0x[0-9a-fA-F]+\\b",
          "name": "constant.numeric.hex.edic"
        },
        {
          "match": "\\b\\d+\\b",
          "name": "constant.numeric.dec.edic"
        }
      ]
    },
    "registers": {
      "patterns": [
        {
          "match": "\\b(?i)r[01](?-i)\\b",
          "name": "storage.register.edic"
        }
      ]
    },
    "strings": {
      "patterns": [
        {
          "match": "\"(\\\\.|[^\"])*\"",
          "name": "string.quoted.single.edic"
        }
      ]
    },
    "labelsText": {
      "patterns": [
        {
          "match": "\\b[a-zA-Z]\\w*\\b",
          "name": "variable.named.edic"
        }
      ]
    },
    "constants": {
      "patterns": [
        {
          "match": "\\.?[a-zA-Z]\\w*\\b",
          "name": "constant.edic"
        }
      ]
    }
  },
  "scopeName": "source.edic"
}